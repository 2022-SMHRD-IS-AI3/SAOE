<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.saoe.mapper.FeedMapper">
	<select id="feedReview" resultType="ReviewDTO">
		select * from review order by review_post_date desc
	</select>
	
	<select id="feedMember" parameterType="ReviewDTO" resultType="MemberDTO">
		select id, nick, profile from member where id = #{id}
	</select>
	
	<select id="feedRest" parameterType="ReviewDTO" resultType="RestaurantDTO">
		select rest_no, code_no, rest_name from restaurant where rest_no = #{rest_no}
	</select>
	
	<select id="feedCate" parameterType="RestaurantDTO" resultType="CategoryDTO">
		select * from category where code_no = #{code_no}
	</select>
	
	<select id="feedReply" parameterType="ReviewDTO" resultType="ReplyDTO">
		select * from reply where review_no = #{review_no} order by reply_date
	</select>
	
	<select id="feedPic" parameterType="ReviewDTO" resultType="ReviewPicDTO">
		select * from review_pic where review_no = #{review_no}
	</select>

	<select id="feedMemberMember" parameterType="MemberMemberDTO" resultType="MemberMemberDTO">
		select * from member_member where id = #{id} and actor_id = #{actor_id}
	</select>
	
	<select id="feedReviewMember" parameterType="ReviewMemberDTO" resultType="ReviewMemberDTO">
		select * from review_member where actor_id = #{actor_id} and review_no = #{review_no}
	</select>
	
	<select id="feedRestMember" parameterType="RestMemberDTO" resultType="RestMemberDTO">
		select * from rest_member where actor_id = #{actor_id} and rest_no = #{rest_no}
	</select>


</mapper>